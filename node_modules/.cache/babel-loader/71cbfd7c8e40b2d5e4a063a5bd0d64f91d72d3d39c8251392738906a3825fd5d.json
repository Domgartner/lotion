{"ast":null,"code":"import _slicedToArray from\"/Users/dominicgartner/Desktop/Portfolio Projects/Portfolio Git Repos/lotion/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useRef}from\"react\";import ReactQuill from'react-quill';import'react-quill/dist/quill.snow.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Body(_ref){var activeNote=_ref.activeNote,confirmDelete=_ref.confirmDelete,onUpdateNote=_ref.onUpdateNote,setUserEditing=_ref.setUserEditing,userEditing=_ref.userEditing,notes=_ref.notes,isNotesListVisible=_ref.isNotesListVisible;// const [editedNote, setEditedNote] = useState(activeNote);\nvar _useState=useState((activeNote===null||activeNote===void 0?void 0:activeNote.title)||'Untitled'),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(title),_useState4=_slicedToArray(_useState3,2),editedTitle=_useState4[0],setEditedTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),currentBody=_useState6[0],setCurrentBody=_useState6[1];useEffect(function(){if(activeNote){setTitle((activeNote===null||activeNote===void 0?void 0:activeNote.title)||'Untitled');setEditedTitle((activeNote===null||activeNote===void 0?void 0:activeNote.title)||'Untitled');setCurrentBody(activeNote.formattedBody);}else{setTitle('');setCurrentBody('');}},[activeNote]);var quillref=useRef(null);var onSave=function onSave(){var quill=quillref.current.getEditor();var html=quill.container.firstChild.innerHTML;var savedDate=document.getElementById('note-date').value;var plainText=quill.getText();var content={id:activeNote.id,body:plainText,formattedBody:html,title:editedTitle,dateCreated:savedDate};var activeNoteIndex=notes.findIndex(function(note){return note.id===activeNote.id;});window.history.replaceState({index:activeNoteIndex},'',\"/notes/\".concat(activeNoteIndex+1));onUpdateNote(content);};var options={year:\"numeric\",month:\"long\",day:\"numeric\",hour:\"numeric\",minute:\"numeric\",second:\"numeric\"};var formatDate=function formatDate(when){var formatted=new Date(when).toLocaleString(\"en-US\",options);if(formatted===\"Invalid Date\"){return\"\";}return formatted;};if(!activeNote){return/*#__PURE__*/_jsx(\"div\",{id:\"default-body\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Select a note, or create a new one.\"})});}function handleTitleChange(event){setEditedTitle(event.target.value);}var editMode=function editMode(){var activeNoteIndex=notes.findIndex(function(note){return note.id===activeNote.id;});window.history.replaceState({index:activeNoteIndex},'',\"/notes/\".concat(activeNoteIndex+1,\"/edit\"));setUserEditing(!userEditing);};return/*#__PURE__*/_jsxs(\"div\",{className:\"note-edit-area\",style:{width:isNotesListVisible?'':'100vw'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"note-edit-head\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:userEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoFocus:true,contentEditable:true,placeholder:\"Untitled\",value:editedTitle,onChange:handleTitleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",id:\"note-date\",defaultValue:new Date(Date.now()-new Date().getTimezoneOffset()*60000).toISOString().slice(0,-8),onChange:formatDate()})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"view-title\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"view-date\",children:formatDate(activeNote.dateCreated)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"save-delete\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"save-btn\",onClick:onSave,children:/*#__PURE__*/_jsx(\"h3\",{id:\"save\",onClick:editMode,children:userEditing?'Save':'Edit'})}),/*#__PURE__*/_jsx(\"div\",{className:\"delete-btn\",children:/*#__PURE__*/_jsx(\"h3\",{id:\"delete\",onClick:function onClick(){return confirmDelete(activeNote.id);},children:\"Delete\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"note-edit-body\",children:userEditing?/*#__PURE__*/_jsx(ReactQuill,{ref:quillref,theme:\"snow\",value:currentBody,onChange:function onChange(value){return setCurrentBody(value);},placeholder:\"Your Note Here\",modules:{toolbar:[[{'header':[1,2,3,4,false]}],['bold','italic','underline','strike','link'],[{'color':[]}],[{'list':'ordered'},{'list':'bullet'}],['clean']]},formats:[\"header\",\"bold\",\"italic\",\"underline\",\"strike\",\"link\",\"color\",\"list\",\"bullet\",\"clean\"],style:{fontSize:\"25px\",width:isNotesListVisible?\"76vw\":\"100vw\"}}):/*#__PURE__*/_jsx(\"div\",{className:\"save-text\",dangerouslySetInnerHTML:{__html:activeNote.formattedBody}})})]});}export default Body;","map":{"version":3,"names":["useEffect","useState","useRef","ReactQuill","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Body","_ref","activeNote","confirmDelete","onUpdateNote","setUserEditing","userEditing","notes","isNotesListVisible","_useState","title","_useState2","_slicedToArray","setTitle","_useState3","_useState4","editedTitle","setEditedTitle","_useState5","_useState6","currentBody","setCurrentBody","formattedBody","quillref","onSave","quill","current","getEditor","html","container","firstChild","innerHTML","savedDate","document","getElementById","value","plainText","getText","content","id","body","dateCreated","activeNoteIndex","findIndex","note","window","history","replaceState","index","concat","options","year","month","day","hour","minute","second","formatDate","when","formatted","Date","toLocaleString","children","handleTitleChange","event","target","editMode","className","style","width","type","autoFocus","contentEditable","placeholder","onChange","defaultValue","now","getTimezoneOffset","toISOString","slice","onClick","ref","theme","modules","toolbar","formats","fontSize","dangerouslySetInnerHTML","__html"],"sources":["/Users/dominicgartner/Desktop/Portfolio Projects/Portfolio Git Repos/lotion/src/Body.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nfunction Body({ activeNote, confirmDelete, onUpdateNote, setUserEditing, userEditing, notes, isNotesListVisible }) {\n  // const [editedNote, setEditedNote] = useState(activeNote);\n  const [title, setTitle] = useState(activeNote?.title || 'Untitled');\n  const [editedTitle, setEditedTitle] = useState(title);  \n  const [currentBody, setCurrentBody] = useState('');\n\n  useEffect(() => {\n    if(activeNote){\n      setTitle(activeNote?.title || 'Untitled');\n      setEditedTitle(activeNote?.title || 'Untitled');\n      setCurrentBody(activeNote.formattedBody);}\n    else {\n      setTitle('');\n      setCurrentBody('');}\n  }, [activeNote]);\n\n  const quillref = useRef(null);\n  const onSave = () => {\n    const quill = quillref.current.getEditor();\n    const html = quill.container.firstChild.innerHTML;\n    const savedDate = document.getElementById('note-date').value;\n    const plainText = quill.getText();\n    let content = {\n      id: activeNote.id,\n      body: plainText,\n      formattedBody: html,\n      title: editedTitle,\n      dateCreated: savedDate,};\n    const activeNoteIndex = notes.findIndex(note => note.id === activeNote.id);\n    window.history.replaceState({ index: activeNoteIndex }, '', `/notes/${activeNoteIndex+1}`);\n    onUpdateNote(content);\n  };\n  \n  const options = {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    hour: \"numeric\",\n    minute: \"numeric\",\n    second: \"numeric\",\n  };\n  const formatDate = (when) => {\n    const formatted = new Date(when).toLocaleString(\"en-US\", options);\n    if (formatted === \"Invalid Date\") {\n      return \"\";\n    }\n    return formatted;\n  };\n\n  if (!activeNote) {\n    return <div id=\"default-body\"><p>Select a note, or create a new one.</p></div>;\n  }\n\n  function handleTitleChange(event) {\n    setEditedTitle(event.target.value);\n  }\n\n  const editMode = () => {\n    const activeNoteIndex = notes.findIndex(note => note.id === activeNote.id);\n    window.history.replaceState({ index: activeNoteIndex }, '', `/notes/${activeNoteIndex+1}/edit`);\n    setUserEditing(!userEditing);\n  }\n\n  return (\n    <div className='note-edit-area' style={{width: isNotesListVisible ? '' : '100vw' }}>\n      <div className='note-edit-head'>\n        <div className=\"input-container\">\n        {userEditing ? (\n          <><input\n                type=\"text\"\n                autoFocus\n                contentEditable\n                placeholder=\"Untitled\"\n                value={editedTitle}\n                onChange={handleTitleChange}\n            /><input\n                type=\"datetime-local\"\n                id = \"note-date\"\n                defaultValue={new Date(Date.now() - new Date().getTimezoneOffset() * 60000).toISOString().slice(0, -8)}\n                onChange={formatDate()} /></>\n        ) : (\n          <><h2 className=\"view-title\">{title}</h2>\n          <p className=\"view-date\">{formatDate(activeNote.dateCreated)}</p></>\n        )}\n        </div>\n        <div className=\"save-delete\">\n          <div className=\"save-btn\" onClick={onSave}>\n            <h3 id=\"save\" onClick={editMode}>{userEditing ?'Save':'Edit'}</h3>\n          </div>\n          <div className=\"delete-btn\">\n            <h3 id=\"delete\" onClick={() => confirmDelete(activeNote.id)}>Delete</h3>\n          </div>\n        </div>\n      </div>\n      <div className=\"note-edit-body\">{userEditing? (\n          <ReactQuill\n            ref={quillref}\n            theme=\"snow\"\n            value = {currentBody}\n            onChange={(value)=>setCurrentBody(value)}\n            placeholder='Your Note Here'\n            modules={{\n                toolbar: [\n                [{ 'header': [1, 2, 3, 4, false] }],\n                ['bold', 'italic', 'underline', 'strike', 'link'],\n                [{ 'color': [] }],\n                [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n                ['clean']\n                ],}}\n            formats={[    \"header\",    \"bold\",    \"italic\",    \"underline\",    \"strike\",    \"link\", \"color\",  \"list\",    \"bullet\",    \"clean\",  ]}\n            style={{ fontSize: \"25px\", width: isNotesListVisible ? \"76vw\" : \"100vw\"}}/>\n      ):(\n       <div className=\"save-text\" dangerouslySetInnerHTML={{__html: activeNote.formattedBody}}></div>\n      )}    \n          </div>\n        </div>\n );\n}\nexport default Body;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}